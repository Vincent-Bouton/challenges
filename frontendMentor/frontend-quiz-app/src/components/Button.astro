---

---

<a
  id="button"
  class="flex w-full cursor-pointer items-center justify-center rounded-md bg-primary-idle py-2 text-white transition hover:bg-primary-hover"
>
  <span>Submit Answer</span>
  <a></a>
</a>
<script>
  document.addEventListener("astro:page-load", () => {
    console.log("page loaded");
    let isSubmitted = false;
    // get URL
    const url = window.location.href;
    // get last part of URL
    const lastPart = url.split("/").pop();
    console.log(lastPart);
    const button = document.getElementById("button");
    button.addEventListener(
      "click",
      () => {
        if (!isSubmitted) {
          button.textContent = "Next Question";
          isSubmitted = !isSubmitted;
          return;
        }
        if (isSubmitted) {
          console.log("submitted");
          if (parseInt(lastPart)) {
            /**
             * @TODO Change the hard 10 to the number of questions
             */

            const nextQuestion =
              parseInt(lastPart) < 10 ? parseInt(lastPart) + 1 : "score";
            button.href = `/${nextQuestion}`;
          }
          return;
        }
      },
      { once: false },
    );
  });
</script>
